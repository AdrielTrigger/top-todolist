!function(e){var t={};function r(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(n,l,function(t){return e[t]}.bind(null,l));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),r.d(t,"activeProject",(function(){return h})),r.d(t,"defineActiveProject",(function(){return w})),r.d(t,"activeProjectDeletion",(function(){return D})),r.d(t,"htmlProjectList",(function(){return g})),r.d(t,"htmlTaskList",(function(){return v})),r.d(t,"parseDate",(function(){return C}));const n={list:[]};class l{constructor(e,t){this.title=e,this.deadline=t,this.position=n.list.length,this.taskList=[],this.type="project",n.list.push(this)}addTask(e){e.position=this.taskList.length,this.taskList.push(e)}}class o{constructor(e,t,r){this.title=e,this.deadline=t,this.position,this.type="task",r.addTask(this)}}function i(e){localStorage.clear();let t=[],r=[];for(let n=0;n<e.length;n++){let l=[e[n].title,e[n].deadline];if(t.push(l),e[n].taskList.length>0){let t=e[n].taskList,l=[];for(let e=0;e<t.length;e++){let r=[t[e].title,t[e].deadline];l.push(r)}r.push(l)}else r.push([])}localStorage.setItem("projects",JSON.stringify(t)),localStorage.setItem("tasks",JSON.stringify(r))}function s(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){s(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function c(e){s(1,arguments);var t=a(e);return t.setHours(0,0,0,0),t}function d(e,t){s(2,arguments);var r=c(e),n=c(t);return r.getTime()===n.getTime()}function u(e){return s(1,arguments),d(e,Date.now())}function p(e,t){s(2,arguments);var r=a(e),n=a(t);return r.getTime()>n.getTime()}function y(e,t){s(2,arguments);var r=a(e),n=a(t);return r.getTime()<n.getTime()}function m(e,t){let r=document.createElement("div"),l=document.createElement("div"),o=document.createElement("div"),s=document.createElement("span"),a=document.createElement("span"),c=document.createElement("div"),g=document.createElement("div"),L=document.createElement("div");s.innerHTML="TITLE: "+e.title,a.innerHTML="DEADLINE: "+e.deadline,g.innerHTML="EDIT",L.innerHTML="DELETE",o.appendChild(s),o.appendChild(a),l.appendChild(o),c.appendChild(g),c.appendChild(L),l.appendChild(c),r.appendChild(l),t.appendChild(r),r.classList.add("item-wrapper"),"project"==e.type?(l.classList.add("project-item"),o.classList.add("project-data"),c.classList.add("project-item-buttons")):"task"==e.type&&(l.classList.add("task-item"),o.classList.add("task-data"),c.classList.add("task-item-buttons")),"project"==e.type?(r.style.setProperty("background-color","white"),r.style.setProperty("color","rgb(34, 139, 158)")):(e.type="task")&&(r.style.setProperty("background-color","rgb(34, 139, 158)"),r.style.setProperty("color","white"));let b=!1;r.addEventListener("click",()=>{0==b&&"project"==e.type&&(f(e,r),v.innerHTML="",function(e){for(let t=0;t<e.taskList.length;t++)m(e.taskList[t],v)}(e))}),g.addEventListener("click",()=>{l.style.setProperty("display","none");let t=document.createElement("div"),o=document.createElement("div"),c=document.createElement("label"),m=document.createElement("label"),f=document.createElement("input"),g=document.createElement("input"),v=document.createElement("div"),L=document.createElement("div"),b=document.createElement("div");c.innerHTML="NEW TITLE:",m.innerHTML="NEW DEADLINE:",f.value=e.title,g.value=e.deadline,L.innerHTML="SUBMIT",b.innerHTML="CANCEL",o.appendChild(c),o.appendChild(f),o.appendChild(m),o.appendChild(g),v.appendChild(L),v.appendChild(b),t.appendChild(o),t.appendChild(v),r.appendChild(t),t.classList.add("edit-menu"),o.classList.add("edit-area"),v.classList.add("edit-buttons"),g.setAttribute("type","date"),"project"==e.type?(t.style.setProperty("background-color","rgb(34, 139, 158)"),t.style.setProperty("color","white"),L.style.setProperty("background-color","white"),L.style.setProperty("color","rgb(34, 139, 158)"),b.style.setProperty("background-color","white"),b.style.setProperty("color","rgb(34, 139, 158)")):(e.type="task")&&(t.style.setProperty("background-color","white"),t.style.setProperty("color","rgb(34, 139, 158)"),L.style.setProperty("background-color","rgb(34, 139, 158)"),L.style.setProperty("color","white"),b.style.setProperty("background-color","rgb(34, 139, 158)"),b.style.setProperty("color","white")),L.addEventListener("click",()=>{e.title=f.value,e.deadline=g.value;let o=C(g.value);if("task"==e.type){let e=C(h.deadline);(u(o)||p(o,new Date))&&(d(o,e)||y(o,e))?(s.innerHTML="TITLE: "+f.value,a.innerHTML="DEADLINE "+g.value,l.style.setProperty("display","flex"),r.removeChild(t),i(n.list)):alert("Please select a valid date. It must respect the project deadline.")}else u(o)||p(o,new Date&&"project"==e.type)?(s.innerHTML="TITLE: "+f.value,a.innerHTML="DEADLINE "+g.value,l.style.setProperty("display","flex"),r.removeChild(t),i(n.list)):alert("Please select a valid date. It must be today or later.")}),b.addEventListener("click",()=>{l.style.setProperty("display","flex"),r.removeChild(t)})}),L.addEventListener("click",()=>{b=!0,"project"==e.type?(n.list.splice(e.position,1),h==e&&(v.innerHTML="",D(project))):"task"==e.type&&h.taskList.splice(e.position,1),t.removeChild(r),i(n.list)}),"project"==e.type&&f(e,r),i(n.list)}function f(e,t){w(e);let r=g.querySelectorAll(".item-wrapper");for(let e=0;e<r.length;e++)r[e].style.setProperty("border","none");t.style.setProperty("border","3px solid blue")}let h,g=document.querySelector(".project-list"),v=document.querySelector(".task-list"),L=document.querySelector(".create-project"),b=document.querySelector(".create-task"),E=document.querySelector(".cancel-project"),k=document.querySelector(".cancel-task"),j=document.querySelector(".project-form"),P=document.querySelector(".task-form");function T(e,t){e.style.setProperty("display","none"),t.style.setProperty("display","flex")}function S(e,t){e.style.setProperty("display","flex"),t.style.setProperty("display","none")}function w(e){h=e}function D(e){h==e&&(h=null)}function C(e){let t,r,n,l="",o="",i="";for(let t=0;t<e.length;t++)t<4?l+=e[t]:t>4&&t<7?o+=e[t]:t>7&&(i+=e[t]);return t=parseInt(l),r=parseInt(o),n=parseInt(i),new Date(t,r-1,n)}if(L.addEventListener("click",()=>{T(L,j)}),b.addEventListener("click",()=>{null==h||null==h?alert("There is no active project. Please select a project from the project list or create a new one in order to create tasks."):T(b,P)}),E.addEventListener("click",()=>{S(L,j)}),k.addEventListener("click",()=>{S(b,P)}),j.addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector("#project-title").value,r=document.querySelector("#project-deadline").value,n=C(r);if(u(n)||p(n,new Date)){m(new l(t,r),g),v.innerHTML="",S(L,j),j.reset()}else alert("Please select a valid date. It must be today or later.")}),P.addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector("#task-title").value,r=document.querySelector("#task-deadline").value,n=C(r),l=C(h.deadline);if((u(n)||p(n,new Date))&&(d(n,l)||y(n,l))){m(new o(t,r,h),v),S(b,P),P.reset()}else alert("Please select a valid date. It must respect the project deadline.")}),1==function(){if(localStorage.getItem("projects")){let e=JSON.parse(localStorage.getItem("projects")),t=JSON.parse(localStorage.getItem("tasks"));for(let r=0;r<e.length;r++){let n=new l(e[r][0],e[r][1]);if(t[r].length>0)for(let e=0;e<t[r].length;e++){new o(t[r][e][0],t[r][e][1],n)}}return!0}}()){!function(e){for(let t=0;t<e.length;t++)m(e[t],g)}(n.list);let e=document.querySelectorAll(".project-item");for(let t=0;t<e.length;t++)e[t].style.setProperty("border","none");h=null}}]);