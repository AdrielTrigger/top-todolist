!function(e){var t={};function r(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(n,l,function(t){return e[t]}.bind(null,l));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),r.d(t,"activeProject",(function(){return m})),r.d(t,"defineActiveProject",(function(){return S})),r.d(t,"activeProjectDeletion",(function(){return T})),r.d(t,"htmlProjectList",(function(){return f})),r.d(t,"htmlTaskList",(function(){return h})),r.d(t,"parseDate",(function(){return w}));const n={list:[]};class l{constructor(e,t){this.title=e,this.deadline=t,this.position=n.list.length,this.taskList=[],this.type="project",n.list.push(this)}addTask(e){e.position=this.taskList.length,this.taskList.push(e)}}class o{constructor(e,t,r){this.title=e,this.deadline=t,this.position,this.type="task",r.addTask(this)}}function s(e){localStorage.clear();let t=[],r=[];for(let n=0;n<e.length;n++){let l=[e[n].title,e[n].deadline];if(t.push(l),e[n].taskList.length>0){let t=e[n].taskList,l=[];for(let e=0;e<t.length;e++){let r=[t[e].title,t[e].deadline];l.push(r)}r.push(l)}else r.push([])}localStorage.setItem("projects",JSON.stringify(t)),localStorage.setItem("tasks",JSON.stringify(r))}function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){i(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function c(e){i(1,arguments);var t=a(e);return t.setHours(0,0,0,0),t}function d(e,t){i(2,arguments);var r=c(e),n=c(t);return r.getTime()===n.getTime()}function u(e){return i(1,arguments),d(e,Date.now())}function p(e,t){i(2,arguments);var r=a(e),n=a(t);return r.getTime()>n.getTime()}function y(e,t){let r=document.createElement("div"),l=document.createElement("div"),o=document.createElement("div"),i=document.createElement("span"),a=document.createElement("span"),c=document.createElement("div"),d=document.createElement("div"),g=document.createElement("div");i.innerHTML="TITLE: "+e.title,a.innerHTML="DEADLINE: "+e.deadline,d.innerHTML="EDIT",g.innerHTML="DELETE",o.appendChild(i),o.appendChild(a),l.appendChild(o),c.appendChild(d),c.appendChild(g),l.appendChild(c),r.appendChild(l),t.appendChild(r),r.classList.add("item-wrapper"),"project"==e.type?(l.classList.add("project-item"),o.classList.add("project-data"),c.classList.add("project-item-buttons")):"task"==e.type&&(l.classList.add("task-item"),o.classList.add("task-data"),c.classList.add("task-item-buttons")),"project"==e.type?(r.style.setProperty("background-color","white"),r.style.setProperty("color","rgb(34, 139, 158)")):(e.type="task")&&(r.style.setProperty("background-color","rgb(34, 139, 158)"),r.style.setProperty("color","white"));let v=!1;r.addEventListener("click",()=>{0==v&&"project"==e.type&&(function(e,t){S(e);let r=f.querySelectorAll(".item-wrapper");for(let e=0;e<r.length;e++)r[e].style.setProperty("border","none");t.style.setProperty("border","3px solid blue")}(e,r),h.innerHTML="",function(e){for(let t=0;t<e.taskList.length;t++)y(e.taskList[t],h)}(e))}),d.addEventListener("click",()=>{l.style.setProperty("display","none");let t=document.createElement("div"),o=document.createElement("div"),c=document.createElement("label"),d=document.createElement("label"),y=document.createElement("input"),m=document.createElement("input"),f=document.createElement("div"),h=document.createElement("div"),g=document.createElement("div");c.innerHTML="NEW TITLE:",d.innerHTML="NEW DEADLINE:",y.value=e.title,m.value=e.deadline,h.innerHTML="SUBMIT",g.innerHTML="CANCEL",o.appendChild(c),o.appendChild(y),o.appendChild(d),o.appendChild(m),f.appendChild(h),f.appendChild(g),t.appendChild(o),t.appendChild(f),r.appendChild(t),t.classList.add("edit-menu"),o.classList.add("edit-area"),f.classList.add("edit-buttons"),m.setAttribute("type","date"),"project"==e.type?(t.style.setProperty("background-color","rgb(34, 139, 158)"),t.style.setProperty("color","white"),h.style.setProperty("background-color","white"),h.style.setProperty("color","rgb(34, 139, 158)"),g.style.setProperty("background-color","white"),g.style.setProperty("color","rgb(34, 139, 158)")):(e.type="task")&&(t.style.setProperty("background-color","white"),t.style.setProperty("color","rgb(34, 139, 158)"),h.style.setProperty("background-color","rgb(34, 139, 158)"),h.style.setProperty("color","white"),g.style.setProperty("background-color","rgb(34, 139, 158)"),g.style.setProperty("color","white")),h.addEventListener("click",()=>{e.title=y.value,e.deadline=m.value;let o=w(m.value);u(o)||p(o,new Date)?(i.innerHTML="TITLE: "+y.value,a.innerHTML="DEADLINE "+m.value,l.style.setProperty("display","flex"),r.removeChild(t),s(n.list)):alert("Please select a valid date. It must be today or later.")}),g.addEventListener("click",()=>{l.style.setProperty("display","flex"),r.removeChild(t)})}),g.addEventListener("click",()=>{v=!0,"project"==e.type?(n.list.splice(e.position,1),m==e&&(h.innerHTML="",T(project))):"task"==e.type&&m.taskList.splice(e.position,1),t.removeChild(r),s(n.list)}),s(n.list)}let m,f=document.querySelector(".project-list"),h=document.querySelector(".task-list"),g=document.querySelector(".create-project"),v=document.querySelector(".create-task"),b=document.querySelector(".cancel-project"),L=document.querySelector(".cancel-task"),k=document.querySelector(".project-form"),E=document.querySelector(".task-form");function j(e,t){e.style.setProperty("display","none"),t.style.setProperty("display","flex")}function P(e,t){e.style.setProperty("display","flex"),t.style.setProperty("display","none")}function S(e){m=e}function T(e){m==e&&(m=null)}function w(e){let t,r,n,l="",o="",s="";for(let t=0;t<e.length;t++)t<4?l+=e[t]:t>4&&t<7?o+=e[t]:t>7&&(s+=e[t]);return t=parseInt(l),r=parseInt(o),n=parseInt(s),new Date(t,r-1,n)}if(g.addEventListener("click",()=>{j(g,k)}),v.addEventListener("click",()=>{null==m||null==m?alert("There is no active project. Please select a project from the project list or create a new one in order to create tasks."):j(v,E)}),b.addEventListener("click",()=>{P(g,k)}),L.addEventListener("click",()=>{P(v,E)}),k.addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector("#project-title").value,r=document.querySelector("#project-deadline").value,n=w(r);if(u(n)||p(n,new Date)){y(new l(t,r),f),h.innerHTML="",P(g,k),k.reset()}else alert("Please select a valid date. It must be today or later.")}),E.addEventListener("submit",e=>{e.preventDefault();let t=document.querySelector("#task-title").value,r=document.querySelector("#task-deadline").value,n=w(r);if(u(n)||p(n,new Date)){y(new o(t,r,m),h),P(v,E),E.reset()}else alert("Please select a valid date. It must be today or later.")}),1==function(){if(localStorage.getItem("projects")){let e=JSON.parse(localStorage.getItem("projects")),t=JSON.parse(localStorage.getItem("tasks"));for(let r=0;r<e.length;r++){let n=new l(e[r][0],e[r][1]);if(t[r].length>0)for(let e=0;e<t[r].length;e++){new o(t[r][e][0],t[r][e][1],n)}}return!0}}()){!function(e){for(let t=0;t<e.length;t++)y(e[t],f)}(n.list);let e=document.querySelectorAll(".project-item");for(let t=0;t<e.length;t++)e[t].style.setProperty("border","none");m=null}}]);